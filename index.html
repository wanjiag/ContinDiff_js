<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="d3/d3.js"></script>
<script src="TimTurkTools.js"></script>

<style type="text/css">
.trialDiv{
	display: none;
	border: 1px solid white;
	border-color: read;
	border-width: 1px;
	padding-left: 0px;
	width: 960px;
	margin: 0 auto;
}
.textBox{
	display: none;
	border: 1px solid white;
	padding-left: 20px;
	width: 500px;
	margin: 0 auto;
	font-family: Arial, Helvetica;
	font-size: 15pt;
}
.images{
	display:inline-block;
	margin-left:10px;
	margin-right:10px;
}
#welcome{
	display: block;
}
#fixation{
	display: none;
	border: 1px solid white;
	border-color: read;
	border-width: 1px;
	padding-left: 0px;
	padding-top: 150px;
	width: 30px;
	margin: 0 auto;
}
</style>

<script>
function showDemo(){
	$('#demographic').show();
	$('#welcome').hide();
}
function showInstructions(){
	$('#instructions').show();
	$('#demographic').hide();
}

function pressedSame(){
	//$('#t' + currentTrial + 'response').val('j');
	alert('same');
	NextTrial();

}

function pressedDiff(){
	//$('#t' + currentTrial + 'response').val('k');
	alert('diff');
	NextTrial();
}


function experiment(){
	$('#instructions').hide();
	$('#fixation').show();

	d3.csv("./sub_file/sub01.csv").then(function(data) {
		
		//$('#img1_1').src(data[0].first_pic)

		document.getElementById('img1_1').src = data[0].first_pic;
		document.getElementById('img1_2').src = data[0].lure1;
		document.getElementById('img1_3').src = data[0].lure2;
		
		setTimeout(function(){document.getElementById("fixation").style.display="none";
		document.getElementById("firstdisplay").style.display="block";}, 1000);
		
		setTimeout(function(){document.getElementById("firstdisplay").style.display="none";
		document.getElementById("scrambled").style.display="block";}, 2500);

		setTimeout(function(){document.getElementById("scrambled").style.display="none";
		document.getElementById("seconddisplay").style.display="block";}, 4500);
		
		var i;
		for (i = 0; i < data.length; i++) { 
		  
		}
	});
	
	//$('#scrambled').show();
	//setT imeout(function(){document.getElementById("scrambled").style.display="none";
	//document.getElementById("fixation").style.display="block";}, 1000);
}



function showFirsttrial(){
	$('#testtrial1').show();
	$('#instructions').hide();
}
function buttonClicked() {
	$('#testtrial'+curTrial).hide();
	curTrial++;
	$('#testtrial'+curTrial).show();
}
$(document).ready(function(){
	$('#start').click(showDemo);
	$('#showinstructions').click(showInstructions);
	$(document).bind('keyup', 'space', experiment);
	$(document).bind('keyup', 'j', pressedSame);
	$(document).bind('keyup', 'k', pressedDiff);
	//$('.responseButton').click(buttonClicked);
});

</script>

<div class = "textBox" id = "welcome">
	<p>Welcome to the experiment!</p>
	</br>
	<a href="#" id="start">Start</a>
</div>

<div class = "textBox" id = "demographic">
	<p>Before we begin, please complete the following demographic information: </p>
	</br>
	<p>Gender:</p>
	<p><input type="radio" class="demoButton" name="gender">Male 
		<input type="radio" class="demoButton" name="gender">Female
		<input type="radio" class="demoButton" name="gender">Prefer not to answer </p>
	</br>
	<p>Age:</p>
	<p><input type="radio" class="demoButton" name="age">Less than 18 
		<input type="radio" class="demoButton" name="age">18-25 
		<input type="radio" class="demoButton" name="age">26-35 
		<input type="radio" class="demoButton" name="age">36-60 
		<input type="radio" class="demoButton" name="age">61+ 
	</br>
	</br>
	<a href="#" id="showinstructions">Continue.</a>
</div>

<div class = "textBox" id = "instructions">
	<p>Thank you for participating! Before we begin, please make sure you are in a quiet location where you will not be distracted or disturbed for the next 25 minutes. Please close other windows. The experiment runs fastest when other programs are closed. </p>
	<p>In this experiment, 3 pictures will appear on the screen. Please try your best to memorize these 3 pictures. Then, 3 scrambled pictures will appear and take place of the 3 pictures. Lastly, one of the 3 scrambled pictures will change into a new picture, and you will need to judge whether the picture is the same or different from the previous picture that was on the same place.</p>
	<p>If the picture is <strong>the same</strong>, press the letter J.</p>
	<p>If the picture is <strong>different</strong>, press the letter K.</p>
	</br>
	</br>
	<p><b>Press the space bar to start.</b></p>
</div>

<div id="scrambled" class="trialDiv">
	<p><img class="images" src="stimuli/scrambled.jpg"  width="300"><img class="images" src="stimuli/scrambled.jpg"  width="300"><img class="images" src="stimuli/scrambled.jpg"  width="300"></p>
</div> 

<div id="fixation" class="trialDiv">
	<p><img class="images" src="stimuli/fixation.png"  width="30" left></p>
</div> 

<div id="firstdisplay" class="trialDiv">
	<p><img class="images" id = "img1_1" width="300"><img class="images" id = "img1_2" width="300"><img class="images" id="img1_3" width="300"></p>
	<p><input type="radio" class="responseButton" name="question2" value="-1"> the same </p>
	<p><input type="radio" class="responseButton" name="question2" value="1"> different </p>
</div> 

<div id="seconddisplay" class="trialDiv">
	<p><img class="images" id = "img2_1" width="300"><img class="images" id = "img2_2" width="300"><img class="images" id="img2_3" width="300"></p>
	<p><input type="radio" class="responseButton" name="question2" value="-1"> the same </p>
	<p><input type="radio" class="responseButton" name="question2" value="1"> different </p>
</div> 


<input type="hidden" id="t1_response" name="t1_response" value="">
<input type="hidden" id="t1_rt" name="t1_response" value="">